# =============================================================================
# SmartDiary Environment Configuration
# =============================================================================
# Copy this file to .env and configure your values.
# NEVER commit the actual .env file!

# -----------------------------------------------------------------------------
# General
# -----------------------------------------------------------------------------
APP_ENV=development
DEBUG=true
SECRET_KEY=your-super-secret-key-change-this-in-production

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_BASE_URL=http://localhost:8000
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=smartdiary
POSTGRES_USER=smartdiary
POSTGRES_PASSWORD=change-this-password

# Constructed database URL (used by the app)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Object Storage (S3-compatible / MinIO)
# -----------------------------------------------------------------------------
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=smartdiary-media
S3_REGION=us-east-1
S3_USE_SSL=false

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# OpenAI API (KI Features)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# Web Dashboard
# -----------------------------------------------------------------------------
WEB_HOST=0.0.0.0
WEB_PORT=3000

# -----------------------------------------------------------------------------
# Deployer (Git Auto-Deploy)
# -----------------------------------------------------------------------------
GIT_REPO_URL=https://github.com/your-org/diary.git
GIT_BRANCH=main
GIT_TOKEN=your-git-readonly-token
POLL_INTERVAL=60
HEALTHCHECK_URL=http://api:8000/health
DEPLOY_LOCK_TIMEOUT=300

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# MinIO Console (Development only)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_CONSOLE_PORT=9001
